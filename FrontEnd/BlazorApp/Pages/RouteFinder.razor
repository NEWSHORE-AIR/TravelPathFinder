@page "/routefinder"
@using TravelPathFinder.BlazorApp.Components
@inherits RouteFinderModel

<h3>Route Finder</h3>

<p>Enter Origin and Destination:</p>

<div class="form-group">
    <label for="origin">Origin:</label>
    <input type="text" id="origin" @bind="@Origin" @oninput='e => ToUpper(e, "Origin")' class="form-control"
        maxlength="3" required>

</div>

<div class="form-group">
    <label for="destination">Destination:</label>
    <input type="text" id="destination" @bind="@Destination" @oninput='e => ToUpper(e, "Destination")'
        class="form-control" maxlength="3" required>
</div>

<button class="btn btn-primary" @onclick="HandleSubmit">Submit</button>

@if (Results != null)
{
    <h4>Results:</h4>
    <ul>
@foreach (var result in Results)
{
    <li>
        <strong>Origin:</strong> @result.Origin
        <br />
        <strong>Destination:</strong> @result.Destination
        <br />
        <strong>Price:</strong> @result.Price
        <br />
        <strong>Flights:</strong>
        <ul>
            @foreach (var flight in result.Flights ?? Enumerable.Empty<Flight>())
            {
                <li>
                    <strong>Carrier:</strong> @flight.Transport.FlightCarrier
                    <br />
                    <strong>Flight Number:</strong> @flight.Transport.FlightNumber
                    <br />
                    <strong>Origin:</strong> @flight.Origin
                    <br />
                    <strong>Destination:</strong> @flight.Destination
                    <br />
                    <strong>Price:</strong> @flight.Price
                </li>
            }
        </ul>
    </li>
}


    </ul>
}

@code {

}


